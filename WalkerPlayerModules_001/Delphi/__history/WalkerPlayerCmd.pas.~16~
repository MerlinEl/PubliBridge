unit WalkerPlayerCmd;

interface

uses WalkerPlayerOptions, WalkerPlayerUtils, WalkerPlayer, System.SysUtils;

  procedure PlayImages(options :OWPlayer; fname :string);
  procedure PlayAudio(options :OWPlayer; fname :string);
  procedure PlayLesson(options :OWPlayer; fname :string);
  procedure PlayVideo(options :OWPlayer; fname :string);

implementation
  procedure PlayImages(options :OWPlayer; fname :string);
  var btnID: string;
  begin
    options.Name := 'Image Player:';
    options.MediaType := 'IMAGES';
    options.FileName := fname; // 20_01_01_meèoun obecný.jpg
    // IMAGE_ID ( 24_01_01 ) < 20_01_01_meèoun obecný.jpg
    // 24 > page     > number of current page
    // 01 > set      > images group
    // 01 > count    > sequence index
    btnID := ExtractFNameWithoutExt(options.FileName); // 20_01_01_meèoun obecný
    btnID := btnID.SubString(0, btnID.LastIndexOf('_')); // 24_01_01
    options.ButtonID := btnID.SubString(0, btnID.LastIndexOf('_')); // 24_01
    // center on screen or set pos exam(100,200)
    WPlayer.Log('Delphi ( MainForm )', WPlayer.OptionsToString(options));
    WPlayer.LoadFile(options);
  end;

  procedure PlayAudio(options :OWPlayer; fname :string);
  var btnID: string;
  begin
    options.Name := 'Audio Player:';
    options.MediaType := 'AUDIO';
    options.FileName := fname; // 04_01.swf
    // Button ID ( 04_01 ) < 04_01.swf
    // 04 > page     > number of current page
    // 01 > count    > sequence index
    options.ButtonID := ExtractFNameWithoutExt(options.FileName);
    options.WindowSize := '240,140';
    options.WindowPos := 'CENTER';
    // center on screen or set pos exam(100,200)
    WPlayer.Log('Delphi ( MainForm )', WPlayer.OptionsToString(options));
    WPlayer.LoadFile(options);
    end;

  procedure PlayLesson(options :OWPlayer; fname :string);
  var btnID: string;
  begin
    options.Name := 'Lesson Player:';
    options.MediaType := 'LESSONS';
    options.FileName := fname; // 004.swf
    // Button ID ( 04 ) < 04.swf
    options.ButtonID := ExtractFNameWithoutExt(options.FileName);
    WPlayer.Log('Delphi ( MainForm )', WPlayer.OptionsToString(options));
    WPlayer.LoadFile(options);
    end;

  procedure PlayVideo(options :OWPlayer; fname :string);
  var btnID: string;
  begin
    options.Name := 'Video Player:';
    options.MediaType := 'VIDEO';
    options.FileName := fname; // 158.swf or https://www...
    // Button ID ( 158 or WEBLINK or 'WEBSTREAM' ) < 158.swf or https://www...
    options.ButtonID := GetVideoID(options.FileName);
    WPlayer.Log('Delphi ( MainForm )', WPlayer.OptionsToString(options));
    WPlayer.LoadFile(options);
    end;

end.
